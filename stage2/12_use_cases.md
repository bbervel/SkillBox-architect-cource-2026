# 12. Сценарии использования (Use Cases)

## 12.1. Управление профилем и настройки

### UC-01: Регистрация нового пользователя
| Элемент | Описание |
|---------|----------|
| **ID** | UC-01 |
| **Название** | Регистрация нового пользователя |
| **Действующие лица** | Пользователь (незарегистрированный), система |
| **Предварительные условия** | Приложение установлено, пользователь открыл экран регистрации |
| **Основной поток** | 1. Пользователь вводит email и пароль (или выбирает вход через соцсети).<br>2. Система проверяет уникальность email и корректность формата.<br>3. Система отправляет письмо с подтверждением email (если не соцсеть).<br>4. Пользователь подтверждает email.<br>5. Система создаёт учётную запись, запрашивает базовые данные (имя, возраст, пол, местоположение, спортивные интересы).<br>6. Пользователь заполняет данные.<br>7. Система сохраняет профиль и перенаправляет на главный экран. |
| **Альтернативные потоки** | • Email уже существует – система сообщает об ошибке и предлагает восстановить пароль.<br>• Неверный формат email – система запрашивает корректный.<br>• Пользователь отменяет регистрацию – возврат на экран входа.<br>• Регистрация через соцсети – система получает данные из профиля соцсети, пропускает шаг подтверждения email. |
| **Постусловия** | Создана учётная запись, профиль заполнен, пользователь аутентифицирован. |

### UC-02: Вход в систему
| Элемент | Описание |
|---------|----------|
| **ID** | UC-02 |
| **Название** | Вход в систему |
| **Действующие лица** | Пользователь (зарегистрированный), система |
| **Предварительные условия** | Учётная запись существует |
| **Основной поток** | 1. Пользователь вводит email и пароль (или выбирает вход через соцсети).<br>2. Система проверяет учётные данные.<br>3. При успехе система создаёт сессию (JWT) и перенаправляет на главный экран. |
| **Альтернативные потоки** | • Неверный пароль – система сообщает об ошибке.<br>• Пользователь забыл пароль – переходит к восстановлению пароля (UC-03). |
| **Постусловия** | Пользователь аутентифицирован, сессия активна. |

### UC-03: Восстановление пароля
| Элемент | Описание |
|---------|----------|
| **ID** | UC-03 |
| **Название** | Восстановление пароля |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь не может войти, но учётная запись существует |
| **Основной поток** | 1. Пользователь запрашивает восстановление пароля, указывает email.<br>2. Система отправляет на email ссылку для сброса пароля.<br>3. Пользователь переходит по ссылке, вводит новый пароль.<br>4. Система обновляет пароль и уведомляет об успехе. |
| **Альтернативные потоки** | • Email не найден – система сообщает, что инструкция отправлена (для безопасности не уточняет, существует ли email). |
| **Постусловия** | Пароль изменён, пользователь может войти с новым паролем. |

### UC-04: Редактирование профиля
| Элемент | Описание |
|---------|----------|
| **ID** | UC-04 |
| **Название** | Редактирование профиля |
| **Действующие лица** | Пользователь (аутентифицированный), система |
| **Предварительные условия** | Пользователь вошёл в систему |
| **Основной поток** | 1. Пользователь открывает раздел "Профиль".<br>2. Система отображает текущие данные.<br>3. Пользователь изменяет поля (имя, аватар, возраст, пол, местоположение, интересы).<br>4. Пользователь сохраняет изменения.<br>5. Система проверяет данные и обновляет профиль. |
| **Альтернативные потоки** | • Загрузка нового аватара – система сохраняет изображение в объектное хранилище, обновляет ссылку.<br>• Некорректные данные – система запрашивает исправление. |
| **Постусловия** | Профиль обновлён. |

### UC-05: Управление настройками приватности и согласиями
| Элемент | Описание |
|---------|----------|
| **ID** | UC-05 |
| **Название** | Управление настройками приватности и согласиями |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован |
| **Основной поток** | 1. Пользователь открывает раздел "Приватность и безопасность".<br>2. Система отображает текущие настройки: видимость профиля, тренировок, местоположения; согласия на обработку данных, получение маркетинговых уведомлений.<br>3. Пользователь изменяет настройки и сохраняет.<br>4. Система фиксирует изменения и обновляет согласия (логирует). |
| **Альтернативные потоки** | • Пользователь отзывает согласие на обработку данных – система запускает процесс удаления или анонимизации данных (в фоне). |
| **Постусловия** | Настройки приватности обновлены. |

### UC-06: Удаление аккаунта
| Элемент | Описание |
|---------|----------|
| **ID** | UC-06 |
| **Название** | Удаление аккаунта |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован |
| **Основной поток** | 1. Пользователь в разделе "Приватность" запрашивает удаление аккаунта.<br>2. Система запрашивает подтверждение (повторный ввод пароля или подтверждение по email).<br>3. Пользователь подтверждает.<br>4. Система помечает аккаунт на удаление, запускает фоновый процесс анонимизации или полного удаления данных из всех сервисов.<br>5. После завершения процесса (может занимать до 30 дней) система уведомляет пользователя (если указан email) об удалении. |
| **Альтернативные потоки** | • Пользователь передумывает – отменяет запрос в течение периода ожидания. |
| **Постусловия** | Аккаунт и данные удалены (или анонимизированы) в соответствии с политикой. |

---

## 12.2. Инвентарь

### UC-07: Добавление предмета инвентаря
| Элемент | Описание |
|---------|----------|
| **ID** | UC-07 |
| **Название** | Добавление предмета инвентаря |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован |
| **Основной поток** | 1. Пользователь открывает раздел "Мой инвентарь".<br>2. Нажимает "Добавить предмет".<br>3. Выбирает тип (обувь, одежда, снаряд), вводит бренд, модель, дату начала использования, начальный пробег/наработку (опционально).<br>4. Система сохраняет предмет в инвентаре пользователя. |
| **Альтернативные потоки** | • При выборе типа "обувь" система может предложить выбрать модель из каталога компании для автозаполнения.<br>• Пользователь может загрузить фото предмета. |
| **Постусловия** | Предмет добавлен, отслеживание износа активировано. |

### UC-08: Привязка инвентаря к тренировке
| Элемент | Описание |
|---------|----------|
| **ID** | UC-08 |
| **Название** | Привязка инвентаря к тренировке |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь записывает тренировку (или редактирует существующую), в инвентаре есть подходящие предметы |
| **Основной поток** | 1. При создании тренировки пользователь выбирает опцию "Использованный инвентарь".<br>2. Система показывает список доступных предметов (например, обувь).<br>3. Пользователь выбирает один или несколько предметов.<br>4. После сохранения тренировки система обновляет пробег/наработку выбранных предметов. |
| **Альтернативные потоки** | • Пользователь не привязывает инвентарь – тренировка сохраняется без учёта износа. |
| **Постусловия** | Тренировка связана с инвентарём, статистика предметов обновлена. |

### UC-09: Просмотр износа и получение уведомления о замене
| Элемент | Описание |
|---------|----------|
| **ID** | UC-09 |
| **Название** | Просмотр износа и получение уведомления о замене |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | У пользователя есть предметы с накопленной наработкой |
| **Основной поток** | 1. Пользователь открывает детали предмета.<br>2. Система отображает текущий пробег/наработку и прогресс до рекомендуемого предела износа.<br>3. Когда наработка достигает порога (например, 80% от ресурса), система отправляет push-уведомление с предложением заменить предмет и показывает скидку на новую модель. |
| **Альтернативные потоки** | • Пользователь отключает уведомления об износе – система не отправляет их. |
| **Постусловия** | Пользователь информирован о необходимости замены. |

---

## 12.3. Тренировки

### UC-10: Ручной ввод тренировки
| Элемент | Описание |
|---------|----------|
| **ID** | UC-10 |
| **Название** | Ручной ввод тренировки |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован |
| **Основной поток** | 1. Пользователь выбирает "Добавить тренировку вручную".<br>2. Выбирает тип активности (бег, велосипед, плавание и т.д.).<br>3. Вводит дату и время, длительность, дистанцию, средний пульс (опционально), калории (опционально), заметки.<br>4. Система сохраняет тренировку и обновляет статистику, личные рекорды. |
| **Альтернативные потоки** | • Пользователь может привязать инвентарь (см. UC-08).<br>• Пользователь может загрузить GPX-файл (UC-17). |
| **Постусловия** | Тренировка добавлена в историю. |

### UC-11: Запись тренировки с GPS
| Элемент | Описание |
|---------|----------|
| **ID** | UC-11 |
| **Название** | Запись тренировки с GPS |
| **Действующие лица** | Пользователь, система, GPS-модуль |
| **Предварительные условия** | Пользователь аутентифицирован, GPS включён |
| **Основной поток** | 1. Пользователь выбирает "Начать тренировку", подтверждает тип активности.<br>2. Система начинает отслеживать местоположение, время, темп.<br>3. Во время тренировки пользователь может поставить на паузу, возобновить, завершить.<br>4. После завершения система показывает итоговую статистику (дистанция, средний темп, маршрут на карте).<br>5. Пользователь подтверждает сохранение, добавляет заметки (опционально).<br>6. Система сохраняет тренировку, обновляет историю и инвентарь. |
| **Альтернативные потоки** | • Потеря GPS-сигнала – система предупреждает, продолжает запись по времени, но без трека.<br>• Прерывание звонком – система ставит на паузу автоматически.<br>• Пользователь отменяет тренировку – данные не сохраняются. |
| **Постусловия** | Тренировка сохранена с GPS-треком. |

### UC-12: Просмотр истории тренировок
| Элемент | Описание |
|---------|----------|
| **ID** | UC-12 |
| **Название** | Просмотр истории тренировок |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован, есть сохранённые тренировки |
| **Основной поток** | 1. Пользователь открывает раздел "История".<br>2. Система отображает список тренировок с датой, типом, дистанцией, длительностью (возможна фильтрация по типу, периоду).<br>3. Пользователь выбирает конкретную тренировку.<br>4. Система показывает детальную статистику, маршрут на карте, графики темпа/пульса. |
| **Альтернативные потоки** | • Нет тренировок – отображается сообщение с предложением начать первую. |
| **Постусловия** | - |

### UC-13: Сравнение тренировок
| Элемент | Описание |
|---------|----------|
| **ID** | UC-13 |
| **Название** | Сравнение тренировок |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован, есть несколько тренировок одного типа |
| **Основной поток** | 1. Пользователь открывает детали тренировки.<br>2. Выбирает опцию "Сравнить с предыдущими".<br>3. Система отображает график прогресса (дистанция, темп, пульс) по датам, выделяет улучшения/ухудшения.<br>4. Пользователь может выбрать конкретные тренировки для сравнения. |
| **Альтернативные потоки** | • Сравнение с регионом – система показывает обезличенные средние показатели по региону пользователя (если доступно и разрешено).<br>• Сравнение с профессионалами – система показывает эталонные показатели для данного типа активности. |
| **Постусловия** | - |

### UC-14: Просмотр личных рекордов
| Элемент | Описание |
|---------|----------|
| **ID** | UC-14 |
| **Название** | Просмотр личных рекордов |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован |
| **Основной поток** | 1. Пользователь открывает раздел "Достижения / Рекорды".<br>2. Система отображает список личных рекордов по дистанциям (1 км, 5 км, 10 км, полумарафон и т.д.) и типам активности, с указанием даты и результата.<br>3. При установке нового рекорда (после тренировки) система показывает поздравление и записывает его. |
| **Альтернативные потоки** | • Если рекорда по дистанции ещё нет – отображается прочерк. |
| **Постусловия** | - |

---

## 12.4. Планирование и рекомендации

### UC-15: Создание персонального плана тренировок
| Элемент | Описание |
|---------|----------|
| **ID** | UC-15 |
| **Название** | Создание персонального плана тренировок |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован |
| **Основной поток** | 1. Пользователь открывает раздел "Планы" и нажимает "Создать план".<br>2. Выбирает цель (подготовка к марафону, похудение, поддержание формы).<br>3. Указывает уровень подготовки, предпочтительные дни и время, длительность тренировок.<br>4. Система генерирует расписание на несколько недель вперёд, предлагая типы тренировок.<br>5. Пользователь может отредактировать расписание (изменить день, заменить тренировку).<br>6. Система сохраняет план и активирует напоминания. |
| **Альтернативные потоки** | • Пользователь выбирает готовый план из библиотеки (UC-16).<br>• Некорректные данные – система запрашивает уточнение. |
| **Постусловия** | План создан, напоминания настроены. |

### UC-16: Использование готового плана из библиотеки
| Элемент | Описание |
|---------|----------|
| **ID** | UC-16 |
| **Название** | Использование готового плана из библиотеки |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован |
| **Основной поток** | 1. Пользователь открывает "Библиотеку планов".<br>2. Система отображает список готовых программ (от тренеров, сообщества), с фильтрацией по цели, уровню, длительности.<br>3. Пользователь выбирает план, просматривает детали.<br>4. Нажимает "Начать план".<br>5. Система добавляет план в "Мои планы" и настраивает расписание. |
| **Альтернативные потоки** | • Пользователь может оценить и оставить отзыв о плане. |
| **Постусловия** | План активирован. |

### UC-17: Получение рекомендаций тренировки на основе инвентаря и целей
| Элемент | Описание |
|---------|----------|
| **ID** | UC-17 |
| **Название** | Получение рекомендаций тренировки на основе инвентаря и целей |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован, есть инвентарь и/или цели |
| **Основной поток** | 1. Пользователь открывает вкладку "Рекомендации".<br>2. Система анализирует историю тренировок, текущий инвентарь, цели и предлагает 1-3 варианта тренировки на сегодня (например, "Интервальный бег 5x400 м", "Восстановительная пробежка 30 мин").<br>3. Пользователь может выбрать один из вариантов и сразу начать тренировку. |
| **Альтернативные потоки** | • Если данных недостаточно, система предлагает пройти опрос или начать с простой тренировки. |
| **Постусловия** | - |

### UC-18: Получение напоминания о тренировке
| Элемент | Описание |
|---------|----------|
| **ID** | UC-18 |
| **Название** | Получение напоминания о тренировке |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | У пользователя есть активный план с запланированной тренировкой на сегодня |
| **Основной поток** | 1. В запланированное время (или за 30 минут) система отправляет push-уведомление: "Пора на тренировку! Сегодня: [тип тренировки]".<br>2. Пользователь нажимает на уведомление и переходит в приложение, может начать тренировку. |
| **Альтернативные потоки** | • Пользователь отключает напоминания – система не отправляет. |
| **Постусловия** | - |

---

## 12.5. Социальные функции

### UC-19: Создание группы по интересам
| Элемент | Описание |
|---------|----------|
| **ID** | UC-19 |
| **Название** | Создание группы по интересам |
| **Действующие лица** | Пользователь (инициатор), система |
| **Предварительные условия** | Пользователь аутентифицирован |
| **Основной поток** | 1. Пользователь открывает раздел "Группы" и нажимает "Создать группу".<br>2. Вводит название, описание, тип спорта, локацию (город/район), устанавливает правила (открытая/закрытая).<br>3. Система создаёт группу, назначает пользователя создателем и администратором.<br>4. Группа появляется в поиске, создатель может приглашать друзей. |
| **Альтернативные потоки** | • Название уже занято – система предлагает другое. |
| **Постусловия** | Группа создана, пользователь – администратор. |

### UC-20: Поиск и вступление в группу
| Элемент | Описание |
|---------|----------|
| **ID** | UC-20 |
| **Название** | Поиск и вступление в группу |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован |
| **Основной поток** | 1. Пользователь открывает раздел "Группы" и вводит ключевые слова (название, вид спорта, локация) или использует фильтры.<br>2. Система отображает список подходящих групп.<br>3. Пользователь выбирает группу, просматривает описание, участников.<br>4. Если группа открытая, нажимает "Вступить" – сразу становится участником.<br>5. Если закрытая, отправляет запрос на вступление. Администратор получает уведомление и может одобрить/отклонить. |
| **Альтернативные потоки** | • Пользователь уже в группе – кнопка "Выйти".<br>• Группа не найдена – предложение создать новую. |
| **Постусловия** | Пользователь вступил в группу (или запрос отправлен). |

### UC-21: Общение в группе (чат, лента, комментарии)
| Элемент | Описание |
|---------|----------|
| **ID** | UC-21 |
| **Название** | Общение в группе |
| **Действующие лица** | Участники группы, система |
| **Предварительные условия** | Пользователь состоит в группе |
| **Основной поток** | 1. Пользователь открывает страницу группы.<br>2. Система отображает ленту активности группы (последние тренировки участников, сообщения).<br>3. Пользователь может написать сообщение в общий чат, оставить комментарий под тренировкой другого участника, поставить лайк.<br>4. Другие участники видят сообщения и могут отвечать. |
| **Альтернативные потоки** | • Модератор может удалить неподобающее сообщение или заблокировать участника. |
| **Постусловия** | Сообщение/комментарий сохранены. |

### UC-22: Поиск людей по интересам и локации
| Элемент | Описание |
|---------|----------|
| **ID** | UC-22 |
| **Название** | Поиск людей по интересам и локации |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован, разрешил доступ к геолокации (опционально) |
| **Основной поток** | 1. Пользователь открывает раздел "Люди".<br>2. Задаёт параметры поиска: вид спорта, уровень, местоположение (текущее или указанное), возрастной диапазон.<br>3. Система отображает список пользователей, соответствующих критериям (с учётом их настроек приватности).<br>4. Пользователь может открыть профиль, отправить запрос на добавление в друзья или пригласить на совместную тренировку. |
| **Альтернативные потоки** | • Поиск людей, тренирующихся прямо сейчас – система показывает пользователей, которые отметили себя как "доступны" и находятся поблизости. |
| **Постусловия** | - |

### UC-23: Добавление в друзья
| Элемент | Описание |
|---------|----------|
| **ID** | UC-23 |
| **Название** | Добавление в друзья |
| **Действующие лица** | Пользователь A (инициатор), пользователь B (получатель), система |
| **Предварительные условия** | Оба пользователя зарегистрированы |
| **Основной поток** | 1. Пользователь A находит профиль пользователя B и нажимает "Добавить в друзья".<br>2. Система отправляет уведомление пользователю B.<br>3. Пользователь B подтверждает запрос.<br>4. Система добавляет пользователей в список друзей друг друга. |
| **Альтернативные потоки** | • Пользователь B отклоняет запрос – ничего не добавляется.<br>• Пользователь B блокирует A – запрос не доходит. |
| **Постусловия** | Пользователи становятся друзьями. |

### UC-24: Уведомление о успехах друзей
| Элемент | Описание |
|---------|----------|
| **ID** | UC-24 |
| **Название** | Уведомление о успехах друзей |
| **Действующие лица** | Пользователь (получатель), система, друг |
| **Предварительные условия** | Пользователь и друг состоят в друзьях |
| **Основной поток** | 1. Друг завершает тренировку, устанавливает личный рекорд или получает значок.<br>2. Система отправляет push-уведомление пользователю: "Ваш друг [Имя] установил новый рекорд на 10 км!".<br>3. Пользователь может нажать на уведомление, чтобы увидеть достижение друга, поздравить или оставить комментарий. |
| **Альтернативные потоки** | • Пользователь отключил уведомления о друзьях – уведомление не отправляется. |
| **Постусловия** | - |

---

## 12.6. Геймификация и соревнования

### UC-25: Начисление опыта и повышение уровня
| Элемент | Описание |
|---------|----------|
| **ID** | UC-25 |
| **Название** | Начисление опыта и повышение уровня |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь завершил тренировку |
| **Основной поток** | 1. После сохранения тренировки система рассчитывает полученный опыт (на основе длительности, интенсивности, типа).<br>2. Система добавляет опыт к текущему счётчику пользователя.<br>3. Если сумма опыта достигла порога нового уровня, система отображает поздравление и обновляет уровень пользователя, открывает новые возможности (значки, челленджи). |
| **Альтернативные потоки** | • Опыт не начисляется, если тренировка слишком короткая (<5 мин). |
| **Постусловия** | Опыт пользователя увеличен, возможно, повышен уровень. |

### UC-26: Получение значка за достижение
| Элемент | Описание |
|---------|----------|
| **ID** | UC-26 |
| **Название** | Получение значка за достижение |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь выполнил условие для получения значка (например, пробежал 100 км за месяц, тренировался 7 дней подряд) |
| **Основной поток** | 1. Система обнаруживает выполнение условия (по результатам тренировки).<br>2. Система отображает уведомление о получении значка, показывает его в профиле.<br>3. Значок добавляется в коллекцию пользователя, может отображаться в ленте друзей. |
| **Альтернативные потоки** | • Значок уже был получен ранее – дубликат не выдаётся. |
| **Постусловия** | Коллекция значков пополнена. |

### UC-27: Участие в челлендже
| Элемент | Описание |
|---------|----------|
| **ID** | UC-27 |
| **Название** | Участие в челлендже |
| **Действующие лица** | Пользователь, система, организатор |
| **Предварительные условия** | Пользователь аутентифицирован, челлендж активен |
| **Основной поток** | 1. Пользователь открывает раздел "Челленджи", просматривает список доступных (публичные, групповые, приглашения).<br>2. Выбирает челлендж, читает условия (например, "Пробежать 50 км за неделю").<br>3. Нажимает "Участвовать".<br>4. Система регистрирует пользователя в челлендже, начинает отслеживать прогресс.<br>5. Во время челленджа пользователь может видеть свой прогресс и рейтинг других участников.<br>6. По окончании система подводит итоги, награждает значками или призами (если предусмотрено). |
| **Альтернативные потоки** | • Челлендж приватный (только по приглашению) – пользователь получает приглашение и принимает его. |
| **Постусловия** | Пользователь участвует в челлендже. |

### UC-28: Просмотр рейтингов
| Элемент | Описание |
|---------|----------|
| **ID** | UC-28 |
| **Название** | Просмотр рейтингов |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован |
| **Основной поток** | 1. Пользователь открывает раздел "Рейтинги".<br>2. Выбирает тип: среди друзей, в группе, в регионе, глобальный; фильтры по виду спорта, полу, возрасту.<br>3. Система отображает таблицу лидеров с указанием места, имени (или ника), показателя (дистанция за месяц, время и т.п.).<br>4. Пользователь может увидеть своё место. |
| **Альтернативные потоки** | • Если пользователь отключил видимость в рейтингах, его данные не отображаются. |
| **Постусловия** | - |

---

## 12.7. Промо и новости

### UC-29: Получение персонализированного промо-предложения
| Элемент | Описание |
|---------|----------|
| **ID** | UC-29 |
| **Название** | Получение персонализированного промо-предложения |
| **Действующие лица** | Пользователь, система, e-commerce |
| **Предварительные условия** | Пользователь аутентифицирован, есть данные тренировок/инвентаря |
| **Основной поток** | 1. Система (Promo Service) анализирует данные пользователя: износ инвентаря, частота тренировок, предпочтения.<br>2. При достижении триггера (например, пробег обуви > 500 км) система формирует персональное предложение (скидка на новую модель).<br>3. Система отправляет push-уведомление с предложением.<br>4. Пользователь нажимает на уведомление, видит детали предложения и кнопку "Перейти в магазин".<br>5. При переходе открывается веб-вью с товаром в интернет-магазине (или нативное отображение).<br>6. Пользователь может совершить покупку. |
| **Альтернативные потоки** | • Предложение может отображаться в ленте активности, а не только в push. |
| **Постусловия** | Зафиксирован переход по промо (для аналитики). |

### UC-30: Просмотр ленты новостей спорта
| Элемент | Описание |
|---------|----------|
| **ID** | UC-30 |
| **Название** | Просмотр ленты новостей спорта |
| **Действующие лица** | Пользователь, система |
| **Предварительные условия** | Пользователь аутентифицирован, выбрал интересующие виды спорта в профиле |
| **Основной поток** | 1. Пользователь открывает раздел "Новости спорта".<br>2. Система отображает ленту новостей по выбранным видам спорта (с возможностью фильтрации).<br>3. Пользователь может читать новости, переходить по ссылкам, ставить лайки. |
| **Альтернативные потоки** | • Если пользователь не выбрал интересы, система предлагает сделать это. |
| **Постусловия** | - |

### UC-31: Получение региональной промоакции
| Элемент | Описание |
|---------|----------|
| **ID** | UC-31 |
| **Название** | Получение региональной промоакции |
| **Действующие лица** | Пользователь, система, региональный менеджер |
| **Предварительные условия** | Пользователь находится в регионе, где активна промоакция (определяется по IP или указанному местоположению) |
| **Основной поток** | 1. Региональный менеджер создаёт акцию через админ-панель, привязанную к региону.<br>2. При входе в приложение пользователь из этого региона видит баннер с акцией на главном экране или в ленте.<br>3. Пользователь может нажать на баннер, чтобы узнать детали и перейти в магазин. |
| **Альтернативные потоки** | • Пользователь может закрыть баннер. |
| **Постусловия** | - |

---

## 12.8. Интеграции

### UC-32: Подключение носимого устройства (через Bluetooth/облако)
| Элемент | Описание |
|---------|----------|
| **ID** | UC-32 |
| **Название** | Подключение носимого устройства |
| **Действующие лица** | Пользователь, система, внешнее устройство |
| **Предварительные условия** | Устройство включено и находится в режиме сопряжения |
| **Основной поток** | 1. Пользователь открывает раздел "Подключить устройство".<br>2. Система сканирует доступные устройства (Bluetooth) или предлагает авторизацию через облачный API производителя.<br>3. Пользователь выбирает своё устройство из списка.<br>4. Система выполняет сопряжение (ввод PIN, подтверждение).<br>5. После успеха система отображает статус подключения и начинает импортировать тренировки с устройства. |
| **Альтернативные потоки** | • Устройство не найдено – система предлагает проверить включение и повторить.<br>• Ошибка авторизации – система сообщает о проблеме. |
| **Постусловия** | Устройство подключено, синхронизация активирована. |

### UC-33: Импорт тренировок из Apple Health / Google Fit
| Элемент | Описание |
|---------|----------|
| **ID** | UC-33 |
| **Название** | Импорт тренировок из Apple Health / Google Fit |
| **Действующие лица** | Пользователь, система, платформа ОС |
| **Предварительные условия** | Пользователь разрешил доступ к данным здоровья |
| **Основной поток** | 1. При первом запуске или в настройках пользователь разрешает интеграцию с HealthKit/Google Fit.<br>2. Система запрашивает разрешение на чтение тренировок.<br>3. Пользователь подтверждает.<br>4. Система импортирует тренировки за последние N дней (или с даты последней синхронизации) и сохраняет в истории.<br>5. При появлении новых тренировок в Health/Fit система автоматически импортирует их. |
| **Альтернативные потоки** | • Разрешение не дано – импорт не выполняется. |
| **Постусловия** | Тренировки из ОС-приложений доступны в истории. |

### UC-34: Переход в интернет-магазин для покупки
| Элемент | Описание |
|---------|----------|
| **ID** | UC-34 |
| **Название** | Переход в интернет-магазин для покупки |
| **Действующие лица** | Пользователь, система, e-commerce |
| **Предварительные условия** | Пользователь выбрал товар (по рекомендации, из каталога или промо) |
| **Основной поток** | 1. В приложении (в разделе промо, инвентаря или поиска) пользователь видит карточку товара с ценой и кнопкой "Купить".<br>2. Пользователь нажимает "Купить".<br>3. Система открывает веб-вью с интернет-магазином, автоматически авторизуя пользователя (через SSO) и добавляя товар в корзину или сразу на страницу оформления.<br>4. Пользователь завершает покупку в интерфейсе магазина. |
| **Альтернативные потоки** | • Если пользователь не авторизован в магазине, система перенаправляет на вход (единый). |
| **Постусловия** | Покупка совершена (внешняя система). |

---

## 12.9. Администрирование и модерация

### UC-35: Модерация контента (жалобы)
| Элемент | Описание |
|---------|----------|
| **ID** | UC-35 |
| **Название** | Модерация контента (жалобы) |
| **Действующие лица** | Модератор, система |
| **Предварительные условия** | Модератор аутентифицирован с правами модератора |
| **Основной поток** | 1. Модератор открывает панель модерации, видит список жалоб от пользователей (на посты, комментарии, группы).<br>2. Выбирает жалобу, просматривает контент.<br>3. Принимает решение: удалить контент, вынести предупреждение пользователю, заблокировать пользователя, отклонить жалобу.<br>4. Система выполняет действие и уведомляет автора жалобы и нарушителя (если применимо). |
| **Альтернативные потоки** | • Жалоба ложная – отклоняется. |
| **Постусловия** | Контент удалён или пользователь заблокирован, запись в логах. |

### UC-36: Создание промоакции (региональным менеджером)
| Элемент | Описание |
|---------|----------|
| **ID** | UC-36 |
| **Название** | Создание промоакции |
| **Действующие лица** | Региональный менеджер, система |
| **Предварительные условия** | Менеджер аутентифицирован с соответствующими правами |
| **Основной поток** | 1. Менеджер открывает админ-панель Promo Service.<br>2. Нажимает "Создать промоакцию".<br>3. Заполняет параметры: название, описание, изображение, целевой регион, условия показа (например, пользователи с пробегом >100 км за месяц), период действия, скидка/подарок.<br>4. Сохраняет акцию.<br>5. Система проверяет корректность и публикует акцию, становясь доступной для целевых пользователей. |
| **Альтернативные потоки** | • Менеджер может создать черновик, отредактировать позже. |
| **Постусловия** | Промоакция активна и отображается пользователям. |

---

Эти сценарии покрывают все функциональные требования, описанные в разделе 2, и служат основой для проектирования API, разработки и тестирования.